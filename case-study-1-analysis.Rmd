---
title: "MSDS 6306: Case 1 "
author:
  - "Blake Holmes and Mel Schwan"
date: "June 8, 2019"
output: 
  html_document
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

```{r injest data, echo=TRUE}
beerData<-read_csv("./Beers.csv")
breweryData<-read_csv("./Breweries.csv")
```

```{r exploratory data analysis, echo=TRUE}
###b. What are the dimensions of the data?

summary(beerData)
str(beerData)
glimpse(beerData)
summary(beerData)
#Name              Beer_ID            ABV               IBU           Brewery_id       Style               Ounces 

#IBU is an abbreviation for the International Bitterness Units scale, a gauge of beer's bitterness. 
beerData %>%
  group_by(Style) %>%
  summarise(
    count= n(),
    IBU_count = sum(!is.na(IBU)),
    IBU_average = mean(IBU, na.rm = TRUE),
    IBU_sd = sd(IBU, na.rm = TRUE),
    
    ABV_count = sum(!is.na(ABV)),
    ABV_average = mean(ABV, na.rm = TRUE),
    ABV_sd = sd(ABV, na.rm = TRUE),
  ) %>% View()

beerData %>% 
  summarise_all(funs(sum(is.na(.)))) %>% View()#count the number of NAs or blanks 
# ABV, IBU, Style have missing values 
# maybe we should do "imputation"? 

beerData %>% 
    filter(is.na(ABV) |is.na(IBU) | is.na(Style)) %>% View()
#hmm what should be done about the missing values...
#1.   How many breweries are present in each state?

summary(breweryData)
str(breweryData)
glimpse(breweryData)
summary(breweryData)
#    Brew_ID          Name               City              State          

#Report the number of NA's in each column.
breweryData %>% 
  summarise_all(funs(sum(is.na(.))))#count the number of NAs or blanks
#No blanks, so it looks like the join is solid. 

```
# Merge beer data with the breweries data. Print the first 6 observations and the last six observations to check the merged file.

```{r merge data, echo=TRUE}

beer_brewery<-beerData %>%
  left_join(breweryData, by=c("Brewery_id"="Brew_ID"), suffix = c(".beer", ".brewery")) %>% 
  rename(Beer_name=Name.beer, Brewery_name=Name.brewery)

beer_brewery %>% 
  filter(is.na(Brewery_name)) 
#returns no results so all beers have a brewery

head(beer_brewery,6)

tail(beer_brewery,6)

#looking for duplicated data in character vectors that we can combine 
library(tidystringdist)
unique(beer_brewery$Beer_name) %>% 
  tidy_comb_all() %>% 
  tidy_stringdist() %>% 
  arrange(osa) %>% 
  View()

unique(beer_brewery$Style) %>% 
  tidy_comb_all() %>% 
  tidy_stringdist() %>% 
  arrange(osa) %>% 
  View()

unique(beer_brewery$Brewery_name) %>% 
  tidy_comb_all() %>% 
  tidy_stringdist() %>% 
  arrange(osa) %>% 
  View()

# 
# Method name	Description
# osa	Optimal string aligment, (restricted Damerau-Levenshtein distance).
# lv	Levenshtein distance (as in R's native adist).
# dl	Full Damerau-Levenshtein distance.
# hamming	Hamming distance (a and b must have same nr of characters).
# lcs	Longest common substring distance.
# qgram	q-gram distance.
# cosine	cosine distance between q-gram profiles
# jaccard	Jaccard distance between q-gram profiles
# jw	Jaro, or Jaro-Winker distance.
# soundex	Distance based on soundex encoding (see below)

```

# Compute the median alcohol content and international bitterness unit for each state. Plot a bar chart to compare.



# Which state has the maximum alcoholic (ABV) beer? 


# Which state has the most bitter (IBU) beer?


#Summary statistics for the ABV variable.


